"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8560],{6668:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});var l=s(4848),i=s(8453);const r={},t="alloydb_client.py",a={id:"sunholo/database/alloydb_client",title:"alloydb_client.py",description:"Source: sunholo/database/alloydbclient.py",source:"@site/docs/sunholo/database/alloydb_client.md",sourceDirName:"sunholo/database",slug:"/sunholo/database/alloydb_client",permalink:"/docs/sunholo/database/alloydb_client",draft:!1,unlisted:!1,editUrl:"https://github.com/sunholo-data/sunholo-py/tree/main/docs/docs/sunholo/database/alloydb_client.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"alloydb.py",permalink:"/docs/sunholo/database/alloydb"},next:{title:"static_dbs.py",permalink:"/docs/sunholo/database/static_dbs"}},c={},o=[{value:"Classes",id:"classes",level:2},{value:"AlloyDBClient",id:"alloydbclient",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"alloydb_clientpy",children:"alloydb_client.py"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.em,{children:"Source"}),": ",(0,l.jsx)(n.a,{href:"https://github.com/sunholo-data/sunholo-py/blob/main/sunholo/database/alloydb_client.py",children:"sunholo/database/alloydb_client.py"})]}),"\n",(0,l.jsx)(n.h2,{id:"classes",children:"Classes"}),"\n",(0,l.jsx)(n.h3,{id:"alloydbclient",children:"AlloyDBClient"}),"\n",(0,l.jsx)(n.p,{children:"A class to manage interactions with an AlloyDB instance."}),"\n",(0,l.jsx)(n.p,{children:"Example Usage:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'client = AlloyDBClient(\n    project_id="your-project-id",\n    region="your-region",\n    cluster_name="your-cluster-name",\n    instance_name="your-instance-name",\n    user="your-db-user",\n    password="your-db-password"\n)\n\n# Create a database\nclient.execute_sql("CREATE DATABASE my_database")\n\n# Execute other SQL statements\nclient.execute_sql("CREATE TABLE my_table (id INT, name VARCHAR(50))")\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"init"}),"(self, project_id: str, region: str, cluster_name: str, instance_name: str, user: str, password=None, db='postgres')","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Initializes the AlloyDB client."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"project_id (str): GCP project ID where the AlloyDB instance resides."}),"\n",(0,l.jsx)(n.li,{children:"region (str): The region where the AlloyDB instance is located."}),"\n",(0,l.jsx)(n.li,{children:"cluster_name (str): The name of the AlloyDB cluster."}),"\n",(0,l.jsx)(n.li,{children:"instance_name (str): The name of the AlloyDB instance."}),"\n",(0,l.jsx)(n.li,{children:"user (str): The database user name."}),"\n",(0,l.jsx)(n.li,{children:"password (str): The database user's password."}),"\n",(0,l.jsx)(n.li,{children:"db_name (str): The name of the database."}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"_and_or_ilike(sources, search_type='OR', operator='ILIKE')"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"_build_instance_uri(self, project_id, region, cluster_name, instance_name)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"_create_engine(self, inst_uri, user, password, db)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"create_database(self, database_name)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"create_docstore_table(self, vector_name: str, users)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"create_schema(self, schema_name='public')"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"create_tables(self, vector_name, users)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"create_vectorstore_table(self, vector_name: str, users)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"delete_sources_from_alloydb(self, sources, vector_name)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Deletes from both vectorstore and docstore"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"execute_sql(self, sql_statement)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Executes a given SQL statement with error handling."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"sql_statement (str): The SQL statement to execute."}),"\n",(0,l.jsx)(n.li,{children:"Returns: The result of the execution, if any."}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"fetch_owners(self)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"grant_schema_permissions(self, schema_name, users)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"grant_table_permissions(self, table_name, users)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No docstring available."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var l=s(6540);const i={},r=l.createContext(i);function t(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);